<?xml version="1.0"?>

<!DOCTYPE faces-config PUBLIC
  "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.0//EN"
  "http://java.sun.com/dtd/web-facesconfig_1_0.dtd">

<faces-config>
	

 <navigation-rule>

   <from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/search.jsp</from-view-id>
	<navigation-case>
		<from-action>#{graveyardSearchBean.onClick}</from-action>
		<from-outcome>success</from-outcome>
		<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary.jsp</to-view-id>
    </navigation-case>



</navigation-rule>
	
 <navigation-rule>
   <from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/new_person.jsp</from-view-id>
	<navigation-case>
		<from-action>#{newPersonBean.onClick}</from-action>
		<from-outcome>success</from-outcome>
		<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary_create.jsp</to-view-id>
    </navigation-case>
</navigation-rule>

	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/search.jsp</from-view-id>
		<navigation-case>
			<from-outcome>showObituaryAction</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>		

	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary.jsp</from-view-id>
		<navigation-case>
			<from-outcome>showObituaryCreateAction</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary_create.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>		


 <navigation-rule>
   <from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary_create.jsp</from-view-id>
	<navigation-case>
		<from-action>#{obituaryCreateBackingBean.onClick}</from-action>
		<from-outcome>success</from-outcome>
		<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary_preview.jsp</to-view-id>
    </navigation-case>
</navigation-rule>


	<managed-bean>
		<description>Backing bean for graveyard search form</description>
		<managed-bean-name>graveyardSearchBean</managed-bean-name>
		<managed-bean-class>se.agura.memorial.search.presentation.SearchFormBackingBean</managed-bean-class>		
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>	
	
	<managed-bean>
		<description>new Person</description>
		<managed-bean-name>newPersonBean</managed-bean-name>
		<managed-bean-class>se.agura.memorial.search.presentation.NewPersonBackingBean</managed-bean-class>		
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>	

	<managed-bean>
		<description>Backing bean for Obituary page</description>	
		<managed-bean-name>obituaryBackingBean</managed-bean-name>
		<managed-bean-class>se.agura.memorial.obituary.presentation.ObituaryInformationDisplayBackingBean</managed-bean-class>		
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>databaseId</property-name>
			<value>#{param.databaseId}</value>
		</managed-property> 
		<managed-property>
			<property-name>graveId</property-name>
			<value>#{param.graveId}</value>
		</managed-property> 
		<managed-property>
			<property-name>actionId</property-name>
			<value>#{param.actionId}</value>
		</managed-property> 
		
	</managed-bean>	
	
	<managed-bean>
		<description>Backing bean for Obituary_Create page</description>	
		<managed-bean-name>obituaryCreateBackingBean</managed-bean-name>
		<managed-bean-class>se.agura.memorial.obituary.presentation.ObituaryInformationCreateBackingBean</managed-bean-class>		
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>databaseId</property-name>
			<value>#{param.databaseId}</value>
		</managed-property> 
		<managed-property>
			<property-name>graveId</property-name>
			<value>#{param.graveId}</value>
		</managed-property> 
	</managed-bean>	

	<converter>
	  <converter-id>se.agura.memorial.search.presentation.GraveyardConverter</converter-id>
	  <converter-class>
		se.agura.memorial.search.presentation.GraveyardConverter
	  </converter-class>
	</converter> 
	
	
	<converter>
	  <converter-id>se.agura.memorial.util.DateConverter</converter-id>
	  <converter-class>
		se.agura.memorial.util.DateConverter
	  </converter-class>
	</converter> 
	
	<converter>
	  <converter-id>se.agura.memorial.util.EmptyStringConverter</converter-id>
	  <converter-class>
		se.agura.memorial.util.EmptyStringConverter
	  </converter-class>
	</converter> 	
	
	<validator> 
		<validator-id>se.agura.memorial.search.presentation.SearchFormDateValidator</validator-id>
		<validator-class>se.agura.memorial.search.presentation.SearchFormDateValidator</validator-class>
	</validator>	
	
	<component>
		<component-type>GraveDetails</component-type>
		<component-class>se.agura.memorial.obituary.presentation.GraveDetails</component-class>
	</component>
	
	<component>
		<component-type>ObituaryItemViewer</component-type>
		<component-class>se.agura.memorial.obituary.presentation.ObituaryItemViewer</component-class>
	</component>
	
	
    
</faces-config>
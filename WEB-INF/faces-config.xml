<?xml version="1.0"?>

<!DOCTYPE faces-config PUBLIC
  "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.0//EN"
  "http://java.sun.com/dtd/web-facesconfig_1_0.dtd">

<faces-config>
	
	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/style_image_l10n.jsp</from-view-id>
		<navigation-case>
			<from-outcome>navigationTest</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/navigation_test.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>	
	
	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary.jsp</from-view-id>
		<navigation-case>
			<from-outcome>navigationTest</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/navigation_test.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>	


	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/search.jsp</from-view-id>
		<navigation-case>
			<from-outcome>showObituaryAction</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>		
	
	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/search.jsp</from-view-id>
		<navigation-case>
			<from-outcome>showObituaryCreateAction</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary_create.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>		
	
	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/search.jsp</from-view-id>
		<navigation-case>
			<from-outcome>showObituaryPreviewAction</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary_preview.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>	
		

	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/navigation_test.jsp</from-view-id>
		<navigation-case>
			<from-outcome>newPerson</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/new_person.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>		


	<navigation-rule>
		<from-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/obituary.jsp</from-view-id>
		<navigation-case>
			<from-outcome>showObituaryCreateAction</from-outcome>
			<to-view-id>/idegaweb/bundles/se.agura.memorial.bundle/jsp/navigation_test.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>		
	
	
	<managed-bean>
		<description>Backing bean for graveyard search form</description>
		<managed-bean-name>graveyardSearchBean</managed-bean-name>
		<managed-bean-class>se.agura.memorial.search.presentation.SearchFormBackingBean</managed-bean-class>		
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>	
	
	<managed-bean>
		<description>new Person</description>
		<managed-bean-name>newPersonBean</managed-bean-name>
		<managed-bean-class>se.agura.memorial.search.presentation.NewPersonBackingBean</managed-bean-class>		
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>	
	
	<managed-bean>
		<managed-bean-name>obituaryInformationDisplayBackingBean</managed-bean-name>
		<managed-bean-class>se.agura.memorial.search.presentation.ObituaryInformationDisplayBackingBean</managed-bean-class>		
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>databaseId</property-name>
			<value>#{param.databaseId}</value>
		</managed-property> 
		<managed-property>
			<property-name>graveId</property-name>
			<value>#{param.graveId}</value>
		</managed-property> 
	</managed-bean>	

	<managed-bean>
		<managed-bean-name>obituaryItemBean</managed-bean-name>
		<managed-bean-class>se.agura.memorial.search.presentation.ObituaryItemBean</managed-bean-class>		
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>databaseId</property-name>
			<value>#{param.databaseId}</value>
		</managed-property> 
		<managed-property>
			<property-name>graveId</property-name>
			<value>#{param.graveId}</value>
		</managed-property> 
	</managed-bean>	
		
	
	<managed-bean>
		<description>List of persons</description>
		<managed-bean-name>PersonList</managed-bean-name>
		<managed-bean-class>se.agura.memorial.experiment.PersonList</managed-bean-class>		
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	
	<converter>
	  <converter-id>se.agura.memorial.search.presentation.GraveyardConverter</converter-id>
	  <converter-class>
		se.agura.memorial.search.presentation.GraveyardConverter
	  </converter-class>
	</converter> 
	
	
	<converter>
	  <converter-id>se.agura.memorial.search.presentation.DateConverter</converter-id>
	  <converter-class>
		se.agura.memorial.search.presentation.DateConverter
	  </converter-class>
	</converter> 
	
	<converter>
	  <converter-id>se.agura.memorial.search.presentation.EmptyStringConverter</converter-id>
	  <converter-class>
		se.agura.memorial.search.presentation.EmptyStringConverter
	  </converter-class>
	</converter> 	
	
	<validator> 
		<validator-id>se.agura.memorial.search.presentation.SearchFormDateValidator</validator-id>
		<validator-class>se.agura.memorial.search.presentation.SearchFormDateValidator</validator-class>
	</validator>	
	
	<component>
		<component-type>GraveDetails</component-type>
		<component-class>se.agura.memorial.obituary.presentation.GraveDetails</component-class>
	</component>
	
	<component>
		<component-type>ObituaryItemViewer</component-type>
		<component-class>se.agura.memorial.obituary.presentation.ObituaryItemViewer</component-class>
	</component>
	
	
    
</faces-config>